<p align="center">
  <img src="https://github.com/Soymaferlopezp/zetaquest/blob/main/public/art/traveler-epic.png" alt="ZetaQuest Logo" height="120">
</p>

<h1 align="center">ZetaQuest 🗺️⚔️</h1>

<p align="center">
    <strong>ZetaQuest</strong> is an <strong>on-chain RPG-lite</strong> that demonstrates the power of <strong>Universal Smart Contracts</strong> and ZetaChain's cross-chain messaging. <br />The player controls a <strong>Traveler (NFT)</strong> and completes <strong>dynamic AI-generated quests (Gemini)</strong> by traveling between different blockchains. Each blockchain grants a <strong>unique buff</strong>, and the experience is reflected on-chain in the <strong>ScoreV2 (XP)</strong> and the Traveler's <strong>dynamic tokenURI</strong>.
</p>

---
## 🎮 Demo Flow

1. **Landing** (`/`): Connect your wallet → redirect to **/after-connect**.
2. **After Connect**: 
    - If you already have Traveler NFT → go to **/app**.
    - If not → mint at **/mint**.
3. **Mint** (`/mint`): minteas Traveler (Zeta Athens) → confetti 🎉 → **/app**.
4. **Dashboard** (`/app`):
    - HUD: NFT + WORLD + BUFF + STATS (XP).
    - Traveling between ETH / POL / BNB.
    - Complete quests generated by Gemini → sign in **ScoreV2** → on-chain XP → reflected in tokenURI.
5. **Mainnet**: When you travel to ZetaChain Mainnet, you receive a **Mainnet Soulbound Badge**.

---
## 🛠️ Tech Stack

**Frontend**:
   - Next.js 14 (App Router).
   - TailwindCSS + shadcn/ui (minimal)
   - wagmi + Web3Modal (WalletConnect)
   - viem (reading/writing contracts)
   - Framer Motion (smooth animations UI)

**Smart Contracts**
   - **Hardhat + OpenZeppelin v5**
   - **ZetaQuestNFT v2**
       - ERC721Enumerable
       - Soulbound (non-transferable)
       - **tokenURI** dinámico según XP en ScoreV2
   - **ScoreV2.sol**
       - Saves accumulated XP per player
       - Emits XpAdded and QuestCompleted events
   - **MainnetBadge.sol**
       - Soulbound NFT on Mainnet to reflect cross-chain progression

**API & Backend**
   - **Next.js Route Handlers (serverless)**
       - /api/player → player profile
       - /api/player/travel → cross-chain travel
       - /api/player/xp → read XP from ScoreV2
       - /api/quests/new → generate quests with **Gemini AI**
       - /api/quests/complete → complete quest (sign **addXpAndLog** in ScoreV2)

**Infra**
   - **ZetaChain Testnet (Athens 7001)** for development
   - **ZetaChain Mainnet** for Soulbound Badge deployment
   - **Google Gemini API** for quest generation

---
## 📂 Repo Structure

```bash
zetaquest/
├─ app/
│  ├─ after-connect/page.tsx         # Check if player already has NFT
│  ├─ mint/page.tsx                  # Traveler mint screen
│  ├─ app/page.tsx                   # Main dashboard (HUD + quests)
│  ├─ api/
│  │  ├─ health/route.ts
│  │  ├─ player/
│  │  │  ├─ travel/route.ts          # Travel cross-chain
│  │  │  ├─ xp/route.ts              # Lectura XP ScoreV2
│  │  │  └─ route.ts                 # Player profile
│  │  └─ quests/
│  │     ├─ new/route.ts             # Generate quests with Gemini
│  │     └─ complete/route.ts        # Complete quest → addXp ScoreV2
│  ├─ layout.tsx
│  ├─ providers.tsx                  # Wagmi, QueryClient, Web3Modal
│  └─ globals.css
│
├─ components/
│  ├─ BackgroundFX.tsx               # Visual effects
│  ├─ HoloCard.tsx                   # Holographic card
│  ├─ MainnetBadge.tsx               # Badge Soulbound (Mainnet)
│  ├─ NftFrame.tsx                   # Frame Traveler NFT
│  ├─ OnboardingModal.tsx            # Modal welcome
│  ├─ PixelBG.tsx                    # Background pixel
│  ├─ TravelButton.tsx               # Button cross-chain travel
│  └─ wallet-connect.tsx             # Button wallet connect
│
├─ lib/
│  ├─ abi/
│  │  ├─ mainnetBadge.ts
│  │  ├─ scoreV2.ts
│  │  ├─ zetaquestCore.ts
│  │  └─ zetaquestNft.ts
│  └─ zeta.ts                        # RPC Athens / Mainnet
│
├─ contracts/
│  ├─ ZetaQuestNFT.sol               # Traveler Soulbound NFT
│  ├─ ScoreV2.sol                    # System XP
│  ├─ MainnetBadge.sol               # Badge SBT
│  ├─ scripts/deploy.js
│  └─ hardhat.config.js
│
├─ public/art/                       # Assets pixel art
│  ├─ traveler-{normal|rare|epic}.png
│  ├─ traveler-{eth|bnb|pol}.png
│  ├─ confetti.gif / onlyconfetti.png
│  ├─ quest-complete.png / levelup.png
│  ├─ idle.gif / aparece.gif / warp.png / desaparece.gif
│  ├─ coin.png / espada.png / escudo.png / star.png
│  ├─ bg-1.png / bg-2.png
│  └─ mint.png / cargando.png
│
├─ fonts/
│  └─ pixel-emulator.otf
│
├─ types/
│  └─ w3m.d.ts
│
├─ .env
├─ .env.local
├─ README.md
├─ package.json
├─ next.config.js
├─ tailwind.config.js
└─ tsconfig.json
```

---
## ⚙️ Environment Variables

**Frontend (`.env.local`):**
```bash
NEXT_PUBLIC_WALLETCONNECT_ID=...
NEXT_PUBLIC_NFT_ADDRESS=0x...
NEXT_PUBLIC_SCORE_ADDRESS=0x...
NEXT_PUBLIC_ZETA_TESTNET=7001
GEMINI_API_KEY=...
```

**Contracts (contracts/.env):**
```bash
PRIVATE_KEY=0xTuClavePrivadaTestnet
```

---
## 📦 Installation & Dev

```bash
# at the root
npm install
npm run dev
# open http://localhost:3000
```

## 📜 Contract deployment (Zeta Athens 7001)

```bash
cd contracts
npm install
npx hardhat compile
npx hardhat run scripts/deploy.js --network zetachain_testnet
# copia direcciones en NEXT_PUBLIC_NFT_ADDRESS y NEXT_PUBLIC_SCORE_ADDRESS
```

---
## 🎨 Design

- **Minimalist pixel/fantasy style**
- **Top HUD: NFT • WORLD • BUFF • STATS**
- **Animations:**
    - Mint → confetti  
    - Quest complete → celebration pixel
    - Idle/Travel → GIFs warp/idle
- **Fonts: Pixel Emulator + Press Start 2P**

---
## 🛤️ Roadmap

    ✅ MVP: wallet connection, Traveler Soulbound minting, HUD, off-chain quests
    ✅ ScoreV2: accumulated XP per player + dynamic tokenURI reflected in the NFT
    ✅ Gemini Quests: AI generation via /api/quests/new
    ✅ Real cross-chain travel: contracts in Athens to travel between ETH / POL / BNB and apply buffs
    ✅ Mainnet Badge Soulbound: on-chain reflection when moving to ZetaChain Mainnet

    ⏭️ Polish ZetaPoints (ZP): improvements in calculation, persistence, and HUD display
    ⏭️ On-chain achievements: extend ScoreV2 + dynamic NFT with unlockable badges
    ⏭️ Persistent player profile: integration with lightweight DB (Prisma/KV store)
    ⏭️ UI/UX improvements: rarity animations (Epic glow), achievements panel, onboarding modal

---
## 🔍 MVP Flow

```bash
┌──────────┐
│ Landing  │ wallet connect
└────┬─────┘
     v
┌───────────────┐
│ after-connect │ -> has NFT ? app : mint
└───┬───────┬───┘
    │       │
    v       v
 /app     /mint ──> mint NFT → confetti 🎉 → /app
    │
HUD: NFT | WORLD | BUFF | STATS
Viajes ETH/POL/BNB
Quests (Gemini) → XP → ScoreV2
```
---
## 📜 License

MIT — use with attribution.
Visual assets licensed by the ZetaQuest team.

---
## 👥 Team

    👩‍💻 Mafer Lopez — Dev & UX/UI Designer
    🚀 Mary Lopez — PM & BizDev

🕹️ ZetaQuest — Play the chain.
---